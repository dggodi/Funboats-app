CREATE TABLE locations(
	location_id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	name VARCHAR(30), 
	updated_at TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

);

CREATE TABLE authorities (
  authority_id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  role VARCHAR(50)
);

CREATE TABLE images (
image_id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY PRIMARY KEY,
content_type VARCHAR(20) NOT NULL,
image MEDIUMBLOB NOT NULL,
updated_at TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE profiles (
profile_id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
first_name VARCHAR(20) NOT NULL,
last_name VARCHAR(20) NOT NULL,
phone_number VARCHAR(15) NULL,
mobile_number VARCHAR(15) NULL,
updated_at TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE items (
item_id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
hours INT NULL,
displacement INT NULL,
color VARCHAR(15) NULL, 
category VARCHAR(20) NULL ,
seating VARCHAR(20) NULL ,
vinNo VARCHAR(17) NULL ,
engine VARCHAR(20) NULL,
pumpType VARCHAR(20) NULL, 
fuelCap INT NULL,
image_id BIGINT NULL,  
updated_at TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY (image_id) REFERENCES images (image_id)
);

CREATE TABLE itemOfferings (
Item_offering_id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
brand VARCHAR(15) NOT NULL, 
model VARCHAR(15) NOT NULL, 
year INT NOT NULL,
cost INT NOT NULL,
descript VARCHAR(100),
location  VARCHAR(45) NOT NULL,
user_name VARCHAR(45) NOT NULL ,
updated_at TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
FOREIGN KEY ( item_offering_id ) REFERENCES items (item_id) ON DELETE CASCADE
);

CREATE  TABLE users (
  user_id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  user_name VARCHAR(45) NOT NULL ,
  user_password VARCHAR(60) NOT NULL ,
  enabled TINYINT NOT NULL DEFAULT 1,
  authority_id BIGINT NOT NULL,
  UNIQUE KEY (user_name,authority_id),
  FOREIGN KEY users (authority_id) references authorities (authority_id) 
);
